{"version":3,"file":"src_app_drawplan_drawplan_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wDAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;;AAAzB,yBAAyB;IAJrC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,yBAAyB;AAAA;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;IAWlC,kBAAkB,SAAlB,kBAAkB;;AAAlB,kBAAkB;IAT9B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,+EAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,wDAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB;AAAA;;;;;;;;;;;;;;;;;;;;;;ACnBmB;IAOrC,YAAY,SAAZ,YAAY;IAEvB,gBAAgB,CAAC;IACjB,QAAQ,KAAI,CAAC;IACb,gBAAgB;QACd,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAyNJ,CAAC;IACJ,CAAC;;;AA/NU,YAAY;IALxB,wDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,qEAAmC;;KAEpC,CAAC;GACW,YAAY;AAAA","sources":["./src/app/drawplan/drawplan-routing.module.ts","./src/app/drawplan/drawplan.module.ts","./src/app/drawplan/drawplan.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DrawplanPage } from './drawplan.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DrawplanPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DrawplanPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DrawplanPageRoutingModule } from './drawplan-routing.module';\n\nimport { DrawplanPage } from './drawplan.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DrawplanPageRoutingModule\n  ],\n  declarations: [DrawplanPage]\n})\nexport class DrawplanPageModule {}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-drawplan',\n  templateUrl: './drawplan.page.html',\n  styleUrls: ['./drawplan.page.scss'],\n})\nexport class DrawplanPage implements OnInit {\n\n  constructor() { }\n  ngOnInit() {}\n  ionViewWillEnter() {\n    eval(`\n    initpage();\n    switchLanguage();\n    if (document.getElementById(\"loadedDP\").value != \"done\") {\n      //document.getElementById(\"loadedDP\").value = \"done\"\n\n    document.getElementById(\"mat\").src = matimage;\n    var width = window.innerWidth-20\n    //height = String((width*530/944)-100)\n    //height = String((width*530/944))\n    var height = window.innerHeight - 200\n  console.log(width)\n    if (width < height * 2333 / 1166) {\n        height = width * 1166 / 2333\n    }\n    if (height < width * 1166 / 2333) {\n        width = height * 2333 / 1166\n    }\n    document.getElementById('wPaint').style.width=width+\"px\"\n    document.getElementById('wPaint').style.height=height+\"px\"\n\n    var dataUrl;\n    var imageData = $(\"#wPaint\").wPaint(\"image\");\n\n    $(\"#canvasImage\").attr('src', imageData);\n    $('#wPaint').wPaint('image', '<image_data>');\n\n    var images = [\n        'assets/images/head.jpg',\n    ];\n\n    $('#wPaint').wPaint({\n      path: './',\n      menuOffsetLeft: -35,\n      menuOffsetTop: -50,\n      saveImg: saveImg,\n      loadImgBg: loadImgBg,\n      loadImgFg: loadImgFg,\n  });\n\n  $(function () {\n      $(\"#btnSave\").click(function () {\n          html2canvas($(\"#widget\"), {\n              onrendered: function (canvas) {\n                  theCanvas = canvas;\n                  document.body.appendChild(canvas);\n\n                  // Convert and download as image\n                  Canvas2Image.saveAsPNG(canvas);\n                  $(\"#img-out\").append(canvas);\n                  // Clean up\n                  //document.body.removeChild(canvas);\n              }\n          });\n      });\n  });\n\n\n\n    var ppi = width / 96\n    var bw = width;\n    var bh = height;\n    var p = 0;\n    var cw = bw + (p * 2) + 1;\n    var ch = bh + (p * 2) + 1;\n\n\n\n    var flag = false;\n    var    prevX = 0;\n    var    currX = 0;\n    var    prevY = 0;\n    var    currY = 0;\n    var    dot_flag = false;\n\n\n    var x = \"black\";\n    var y = 2;\n    var drawmode = 'pencil';\n\n    \n\n    var imageLoader = document.getElementById('imageLoader');\n    imageLoader.addEventListener('change', handleImage, false);\n        \n  \n    drawBoard()\n\n    customElements.define('modal-page', class extends HTMLElement {\n        connectedCallback() {\n          this.innerHTML = \\`\n      <ion-header>\n        <ion-toolbar>\n          <ion-title>Saved Drawings</ion-title>\n          <ion-buttons slot=\"primary\">\n            <ion-button onClick=\"modalElement.dismiss()\">\n              <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n            </ion-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-header>\n      <ion-content class=\"ion-padding\">\n      <div style=\"width: 30em; height: 30em;\" data-role=\"popup\" id=\"popupMap\" data-overlay-theme=\"b\"\n      data-theme=\"b\" data-corners=\"false\" data-tolerance=\"15,15\">\n\n    \n      <!-- <a href=\"#\" data-rel=\"back\" data-role=\"ion-button\" data-theme=\"b\" data-icon=\"delete\" data-iconpos=\"notext\"\n                      class=\"ui-btn-right\">Close</a> -->\n      <div style=\"margin:5px\">\n        <ion-button text-wrap class=\"ion-button\"\n          onclick=\"svimg(); mymaxDP = window.localStorage.canvasImage2021.split('|').length-1; alert(doneText)\"\n          data-inline=\"true\" style=\"\"><text id=\"saveDrawingText\">Save Drawing</text></ion-button>\n        <br><ion-button text-wrap\n          onclick=\"window.localStorage.canvasImage2021 = ''; document.getElementById('saveidDP').max = 1 ; showPastDraws();alert(doneText);\"\n          data-inline=\"true\"><text id=\"deleteSavedDrawingsText\">Delete All Saved Drawings</text></ion-button>\n    \n        <br>\n    \n        <table>\n          <tr>\n            <td>\n              <!-- <ion-button data-inline=\"true\" onclick=\"\n    \n                 \"><text id=\"loadSavedDrawingText\">Load Saved Drawing</text></ion-button> -->\n            </td>\n            <td>\n              <script>\n                if (window.localStorage.canvasImage2021 == undefined) {\n                  window.localStorage.canvasImage2021 = ''\n                }\n                mymaxDP = window.localStorage.canvasImage2021.split('|').length - 1;\n    </script>\n    <div style=\"max-width: 350px; \" class=\"ui-block-b \">\n      <ion-item>\n    \n        <ion-button style=\"text-align: left; \" id=\"loadText\" class=\"ui-shadow ui-btn ui-corner-all \" type=\"button \" onclick=\"loadsaveDP(window.localStorage.canvasImage2021.split('|')[parseInt(document.getElementById('saveidDP').value)]);\n                      loadsaveDP(window.localStorage.canvasImage2021.split('|')[parseInt(document.getElementById('saveidDP').value)]);\n                      setTimeout(function() {\n                      loadsaveDP(window.localStorage.canvasImage2021.split('|')[parseInt(document.getElementById('saveidDP').value)]);\n                      }, 200);\n                      ionAlert(doneText);\">\n          Load Saved Drawing</ion-button>\n        <ion-item no-lines>\n    \n          <!--\n                        <div data-role=\"stepper \" data-direction=\"vertical \">\n    \n                            <div style=\"max-width: 60px; \" class=\"button-wrap \"> -->\n          <ion-button type=\"button\" value=\"- \"\n            onclick=\"document.getElementById( 'saveidDP').value--; if (document.getElementById( 'saveidDP').value < 1) {document.getElementById( 'saveidDP').value=1 } \">\n            <ion-icon name=\"remove-outline\"></ion-icon>\n          </ion-button>\n          <!-- </div>\n                        </div>\n                    </div>\n                    <div class=\"ui-block-c \" style=\"max-width: 60px; \">\n                        <div style=\"max-width: 60px; \" class=\"button-wrap \"> -->\n          <ion-input style=\"height: 41px;text-align: center; \" type=\"number \" data-highlight=\"true \" data-theme=\"b \"\n            onchange=\" if (this.value> mymaxDP) {this.value = mymaxDP}\" search=\"2\" class=\"quantity\" data-show-value=\"true\"\n            name=\"saveidDP\" id=\"saveidDP\" value=\"1\" min=\"1\" step=\"1\"></ion-input>\n          <!-- </div>\n                    </div>\n                    <div class=\"ui-block-d\" style=\"max-width: 60px; \">\n                        <div style=\"max-width: 60px; \" class=\"button-wrap\"> -->\n          <ion-button type=\"button\" value=\"+\"\n            onclick=\"document.getElementById('saveidDP').value++; if (document.getElementById('saveidDP').value > mymaxDP) {document.getElementById('saveidDP').value = mymaxDP}\">\n            <ion-icon name=\"add-outline\"></ion-icon>\n          </ion-button>\n          <!-- </div>-->\n        </ion-item>\n      </ion-item>\n    </div>\n    <!--\n                            <input id=\"saveidDP\" type=\"text\" data-inline=\"true\" data-role=\"spinbox\"\n                              onchange=\"if (mymaxDP < this.value) {this.value = mymaxDP} \" min=\"1\" value=\"1\"> -->\n    </td>\n    \n    </tr>\n    </table>\n    \n    <br>\n    <br>\n    <div id=\"drawSaveShare\" class=\"\">\n      <!-- <a style=\"display:none; position: fixed;    bottom: -10000;   left: -100000;\" id=\"exportDP\"\n                                    href=\"#\">Export\n                                    Saves</a> -->\n      <ion-button text-wrap data-inline=\"true\" class=\"ui-mini no-mobile\" onclick=\"downloadSaves()\"><text\n          id=\"exportSavedDrawingsText\">Share Drawings</text></ion-button>\n      <script type=\"text/javascript\">\n                          // var anchor = document.getElementById('exportDP');\n                          // anchor.onclick = function () {\n                          //     var currentTime = new Date()\n                          //     var day = currentTime.getDate()\n                          //     anchor.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(window.localStorage.canvasImage2021);\n                          //     anchor.download = day + 'mydrawings.DRCI';\n                          //     //     setTimeout(function(){   ;  anchor.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(window.localStorage.DRAA1scorer);    anchor.download = day + 'myscores.AA1EV3';}, 50)\n                          // };\n    \n      </script>\n    <br>\n      <ion-button text-wrap class=\"ui-mini no-mobile\" data-inline=\"true\" onclick=\"// alert('choose .DRCI file') ;\n                            document.getElementById('fileInputDP').click() \"><text id=\"importSavedDrawingsText\">Import Shared Drawings</text></ion-button>\n    <br>\n      <ion-button text-wrap data-inline=\"true\" class=\"\" onclick=\"exporter();\"><text id=\"exportPNGText\">Export Drawing as PNG</text></ion-button>\n      <input onchange=\"\" style=\" display:none; position: fixed;    bottom: -10000;   left: -100000; \" type=\"file\"\n        id=\"fileInputDP\" accept=\".DRCI\"><br>\n      <!--Drawplan Scoring System Version 4.2.0 scorer<br>-->\n    </div>\n    \n    <div id=\"pastDraws\"> </div>\n    \n    </div>\n    </div>\n    </ion-content>\\`;\n    }\n    });\n  }\n    `)\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}